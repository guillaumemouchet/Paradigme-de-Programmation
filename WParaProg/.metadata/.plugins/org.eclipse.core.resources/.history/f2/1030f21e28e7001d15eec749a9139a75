
package ch.hearc.SA.labo2.BlockingQueue;

import java.util.concurrent.ArrayBlockingQueue;
import java.util.concurrent.BlockingQueue;
import java.util.concurrent.LinkedBlockingQueue;

public class Main
	{

	// Synchronisation des messages directement
	public static void main(String[] args)
		{
		BlockingQueue<int[]> queue = new ArrayBlockingQueue<int[]>(10);
		BlockingQueue<Long> timeList = new LinkedBlockingQueue<Long>();
		int nbConsommateurs = 3;
		for(int i = 0; i < nbConsommateurs; i++)
			{
			Consommateur consommateur = new Consommateur(queue,timeList);
			new Thread(consommateur, "Consommateur" + i).start();
			}
		int nbProducteurs = 1;
		for(int i = 0; i < nbProducteurs; i++)
			{
			Producteur producteur = new Producteur(queue,timeList);
			new Thread(producteur, "Producteur" + i).start();
			}

		System.out.println("All the threads are started");

		}

	}
